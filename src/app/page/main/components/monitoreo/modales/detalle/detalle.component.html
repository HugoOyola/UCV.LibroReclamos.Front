<p-dialog
  [(visible)]="visible"
  [dismissableMask]="true"
  [modal]="true"
  [style]="{width: '50rem'}"
  [draggable]="false"
  [resizable]="false"
  (onHide)="close.emit()"
  header="Detalle de la Reclamación"
>
  <ng-container *ngIf="reclamacion">
    <div class="space-y-6">

      <!-- Datos del Reclamante -->
      <div class="p-4 bg-gray-100 border border-gray-300 border-solid rounded-lg">
        <h3 class="mb-4 text-lg font-semibold text-blue-600">Datos del Reclamante</h3>

        <div class="grid grid-cols-1 gap-4 mb-4 md:grid-cols-3">
          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Cod. reclamo:</label>
            <span class="font-medium text-gray-900">{{reclamacion.codigo}}</span>
          </div>

          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Nombre:</label>
            <span class="text-gray-900">{{reclamacion.usuario}}</span>
          </div>

          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">DNI:</label>
            <span class="text-gray-900">{{reclamacion.dni}}</span>
          </div>
        </div>

        <div class="grid grid-cols-1 gap-4 mb-4 md:grid-cols-2">
          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Teléfono:</label>
            <span class="text-gray-900">{{reclamacion.telefono || '919507082'}}</span>
          </div>

          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Correo:</label>
            <span class="text-gray-900">{{reclamacion.correo}}</span>
          </div>
        </div>

        <div class="grid grid-cols-1 gap-4 mb-4 md:grid-cols-2">
          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Dirección:</label>
            <span class="text-gray-900">{{reclamacion.direccion || 'Carlos Baca Flor 427'}}</span>
          </div>

          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Campus:</label>
            <span class="text-gray-900">{{reclamacion.campus}}</span>
          </div>
        </div>

        <!-- Padre o Apoderado -->
        <div class="pt-4 mb-4 border-0 border-t border-gray-300 border-solid">
          <label class="block mb-2 text-sm font-medium text-gray-700">Padre o Apoderado:</label>
          <div class="italic text-gray-500">{{reclamacion.padreApoderado || 'No especificado'}}</div>
        </div>

        <!-- Cambio de campus y Email -->
        <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
          <div>
            <label class="block mb-2 text-sm font-medium text-gray-700">Cambio de campus:</label>
            <p-select
              [options]="campusOptions"
              [ngModel]="reclamacion.campus"
              placeholder="Campus"
              class="w-full"
              [disabled]="true"
            >
            </p-select>
          </div>

          <div>
            <label class="block mb-2 text-sm font-medium text-gray-700">Email:</label>
            <input
              pInputText
              type="email"
              [value]="reclamacion.correo"
              class="w-full"
              readonly
              placeholder="Correo del reclamante"
            >
          </div>
        </div>
      </div>

      <!-- Detalle del Reclamo -->
      <div class="p-4 rounded-lg bg-gray-50">
        <h3 class="mb-4 text-lg font-semibold text-blue-600">Detalle del Reclamo</h3>

        <div class="mb-4">
          <span class="text-sm text-gray-600">Fecha registro: {{reclamacion.fechaRegistro}}</span>
        </div>

        <div class="grid grid-cols-1 gap-4 mb-4 md:grid-cols-2">
          <div>
            <label class="block mb-2 text-sm font-medium text-gray-700">Clasificar reclamo:</label>
            <p-select
              [options]="clasificacionOptions"
              [ngModel]="reclamacion.categoria || 'SIN CLASIFICACIÓN'"
              placeholder="Clasificar reclamo :"
              class="w-full"
              [disabled]="true"
            >
            </p-select>
          </div>

          <div>
            <label class="block mb-2 text-sm font-medium text-gray-700">Asignar unidad:</label>
            <p-select
              [options]="unidadOptions"
              [ngModel]="reclamacion.responsable"
              placeholder="Asignar unidad :"
              class="w-full"
              [disabled]="true"
            >
            </p-select>
          </div>
        </div>

        <!-- Información del bien/servicio -->
        <div class="p-3 mb-4 border border-l-4 border-blue-500 border-solid rounded bg-blue-50">
          <div class="flex items-center mb-2">
            <i class="mr-2 text-blue-600 pi pi-box"></i>
            <span class="font-semibold text-blue-800">Bien: {{reclamacion.bien || 'SERVICIO'}}</span>
          </div>
          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Descripción:</label>
            <p class="text-gray-600">{{reclamacion.descripcion || 'Convalidación de inglés'}}</p>
          </div>
        </div>

        <!-- Tipo de reclamo -->
        <div class="p-4 border border-l-4 border-orange-500 border-solid rounded-lg bg-orange-50">
          <div class="flex items-center mb-3">
            <i class="mr-2 text-orange-600 pi pi-exclamation-triangle"></i>
            <span class="font-semibold text-orange-800">Tipo: {{reclamacion.tipo || 'RECLAMO'}}</span>
          </div>

          <div class="mb-4">
            <label class="block mb-2 text-sm font-medium text-gray-700">Detalle del reclamo:</label>
            <div class="p-3 text-sm leading-relaxed text-gray-700 bg-white border border-gray-200 border-solid rounded-md">
              {{reclamacion.detalleReclamo || 'Soy egresado de traducción y a través del programa sube me he inscrito en la segunda carrera que es psicología, me están pidiendo que lleve curso de inglés VI, lo cual me parece ilógico soy egresado de traducción mi especialidad es el inglés, como requisito de la universidad tomé ni examen MET en la misma universidad obteniendo un nivel b2, entonces espero la convalidación total del curso ya que es un nivel básico, no me dan solución en el programa sube, en la escuela de idiomas ni en la escuela de psicología, le he explicado mi caso a la licenciada Martha Pérez Gamboa y tampoco tengo respuesta, mis clases inician el sábado 6.'}}
            </div>
          </div>

          <div class="flex items-center mb-3">
            <i class="mr-2 text-orange-600 pi pi-dollar"></i>
            <span class="font-medium text-orange-800">Monto</span>
          </div>

          <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Pedido:</label>
            <p class="text-gray-600">{{reclamacion.pedido || 'Convalidación de inglés.'}}</p>
          </div>
        </div>
      </div>

      <!-- Botones de acción -->
      <div class="flex justify-end gap-2 pt-4 border-0 border-t border-gray-200 border-solid">
        <p-button
          label="Cerrar"
          severity="secondary"
          [text]="true"
          (onClick)="close.emit()"
        />
      </div>
    </div>
  </ng-container>
</p-dialog>